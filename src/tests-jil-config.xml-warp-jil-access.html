<!DOCTYPE html>
<html>
  <head>
    <title>warp-jil-access (tests/jil/config.xml)</title>
    <meta content="text/html; charset=utf-8" http-equiv="content-type"></meta>
    <link href="css/style.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body>
    <div class="statusBar">
      <span class="numTestsDone">0</span>
      /
      <span class="numTests">0</span>
      tests,
      <span class="numFailed">0</span>
      failed (
      <span class="percentFailed">0</span>
      %)
      <span class="notCustomConfigured" style="display:none; color:#FBB;">[not configured]</span>
    </div>
    <a class="copyright" href="http://w3.org">
      <img alt="by HTML5" src="img/logo.png"></img>
    </a>
    <div class="content"></div>
    <div id="dbg" style="color:red;"></div>
    <div class="manualTest">
      <h1 class="testName"></h1>
      <div class="whatToDo">
        <h1>What to do?</h1>
        <p class="text"></p>
        <button class="goButton">GO</button>
        <p class="testInfo"></p>
      </div>
      <div class="timeout">
        <h1>Timeout</h1>
        <p>
          Test automatically fails in:
          <span class="countdown">
            <span class="minutes">0:00</span>
            min
          </span>
          <!--<button class="failButton">Fail Now</button>i dont know how to implement this-->
        </p>
      </div>
      <div class="result">
        <h1>What should have happened?</h1>
        <p class="text"></p>
        <button class="yesButton">Yes</button>
        <button class="noButton">No</button>
      </div>
    </div>
    <button id="backButton" onclick="window.parent.showList()" style="display:none; z-index:200; position:fixed; bottom:0; heigth:1.5em;">BACK</button>
    <script src="js/doh2/doh.js" type="text/javascript"></script>
    <script src="js/doh2/config.js" type="text/javascript"></script>
    <script src="js/doh2/util.js" type="text/javascript"></script>
    <script src="js/util.js" type="text/javascript"></script>
    <script src="js/doh2/deferred.js" type="text/javascript"></script>
    <script src="js/doh2/assert.js" type="text/javascript"></script>
    <script src="js/ui.js" type="text/javascript"></script>
    <script src="js/doh2_ui.js" type="text/javascript"></script>
    <script src="js/dohx.js" type="text/javascript"></script>
    <script src="js/compat.js" type="text/javascript"></script>
    <!-- if compat is not packaged it wont be loaded -->
    <script src="js/embed.js" type="text/javascript"></script>
    <script src="js/config.js" type="text/javascript"></script>
    <!-- Load it after the compat, so we can use Widget, etc. -->
    <script type="text/javascript">// Try to override the console.log, so we can use it in the code, mainly for developing purposes though.
		try{
			var dbgNode = document.getElementById("dbg");
			console = {log:function(){
				dbgNode.innerHTML += Array.prototype.slice.call(arguments, 0).join(" ")+" ";
			}};
		}catch(e){}
		
		configHelper.onConfigured = function(){
			var node = document.createElement("script");
			node.type = "text/javascript";
			node.src = "tests/jil/config.xml/warp-jil-access.js?nocache="+(+new Date());
			document.body.appendChild(node);
			// Add the timeout, just so the appended file above gets the time to load and run ... unfortunately not really bullet-proof
			// but we are "only" doing that so the number of tests are shown properly.
			setTimeout(function(){
				util.query(".statusBar .numTests")[0].innerHTML = doh._numTests;
				try{
					doh.run();
				}catch(e){
					util.query(".content")[0].innerHTML += e;
				}
			}, 100);
		};
		if (config._meta.numAsynchConfigs==0){
			configHelper.finishConfiguration();
		}
		
		embed.style(embed.byId("backButton"), "display", location.href.match("embedded=true") ? "block" : "none");</script>
  </body>
</html>